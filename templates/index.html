{% extends "layout.html" %}

{% block title %}
    Dashboard
{% endblock %}

{% block headscript %}
{% endblock %}

{% block main %}
  <div class="acrylic shadow d-flex align-items-center p-3 my-3 text-white rounded shadow-sm">
    <img class="me-3" src="/static/favicon/favico-gradient-06.svg" alt="" width="48" height="48">
    <div class="lh-1">
      <h1 class="h3 mb-0 text-dark lh-1">Welcome {{user_name}} </h1>
      <div class="my-3">
        <small class="text-dark">You're set, now do whatever you see fit!</small>
      </div>
    </div>
  </div>

  <div class="my-3 p-3 rounded shadow acrylic">
    <div class="container px-4 py-5" id="hanging-icons">
      <h2 class="pb-2 border-bottom"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-lightning" viewBox="0 0 16 16">
        <path d="M5.52.359A.5.5 0 0 1 6 0h4a.5.5 0 0 1 .474.658L8.694 6H12.5a.5.5 0 0 1 .395.807l-7 9a.5.5 0 0 1-.873-.454L6.823 9.5H3.5a.5.5 0 0 1-.48-.641l2.5-8.5zM6.374 1 4.168 8.5H7.5a.5.5 0 0 1 .478.647L6.78 13.04 11.478 7H8a.5.5 0 0 1-.474-.658L9.306 1H6.374z"/>
      </svg>Quick Access</h2>
      <div class="row g-4 py-5 row-cols-1 row-cols-lg-3">
        <div class="col d-flex align-items-start">
          <div class="icon-square bg-light text-dark flex-shrink-0 me-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-currency-exchange" viewBox="0 0 16 16">
              <path d="M0 5a5.002 5.002 0 0 0 4.027 4.905 6.46 6.46 0 0 1 .544-2.073C3.695 7.536 3.132 6.864 3 5.91h-.5v-.426h.466V5.05c0-.046 0-.093.004-.135H2.5v-.427h.511C3.236 3.24 4.213 2.5 5.681 2.5c.316 0 .59.031.819.085v.733a3.46 3.46 0 0 0-.815-.082c-.919 0-1.538.466-1.734 1.252h1.917v.427h-1.98c-.003.046-.003.097-.003.147v.422h1.983v.427H3.93c.118.602.468 1.03 1.005 1.229a6.5 6.5 0 0 1 4.97-3.113A5.002 5.002 0 0 0 0 5zm16 5.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0zm-7.75 1.322c.069.835.746 1.485 1.964 1.562V14h.54v-.62c1.259-.086 1.996-.74 1.996-1.69 0-.865-.563-1.31-1.57-1.54l-.426-.1V8.374c.54.06.884.347.966.745h.948c-.07-.804-.779-1.433-1.914-1.502V7h-.54v.629c-1.076.103-1.808.732-1.808 1.622 0 .787.544 1.288 1.45 1.493l.358.085v1.78c-.554-.08-.92-.376-1.003-.787H8.25zm1.96-1.895c-.532-.12-.82-.364-.82-.732 0-.41.311-.719.824-.809v1.54h-.005zm.622 1.044c.645.145.943.38.943.796 0 .474-.37.8-1.02.86v-1.674l.077.018z"/>
            </svg>
          </div>
          <div>
            <h2>Buy</h2>
            <p>To make money you must spend money, such is the way of trading and will ever be. I think...</p>
            <a href="/buy" class="btn btn-md btn-secondary fw-bold border-white bg-dark btn-block w-25">
              Buy
            </a>
          </div>
        </div>
        <div class="col d-flex align-items-start">
          <div class="icon-square bg-light text-dark flex-shrink-0 me-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-box-arrow-in-up" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M3.5 10a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 0 0 1h2A1.5 1.5 0 0 0 14 9.5v-8A1.5 1.5 0 0 0 12.5 0h-9A1.5 1.5 0 0 0 2 1.5v8A1.5 1.5 0 0 0 3.5 11h2a.5.5 0 0 0 0-1h-2z"/>
              <path fill-rule="evenodd" d="M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3z"/>
            </svg>
          </div>
          <div>
            <h2>Sell</h2>
            <p>Sell your stock quickly without fuss, you can also use the navigation bar to sell stocks or do it here.</p>
            <a href="/sell" class="btn btn-md btn-secondary fw-bold border-white bg-dark btn-block w-25">
              Sell
            </a>
          </div>
        </div>
        <div class="col d-flex align-items-start">
          <div class="icon-square bg-light text-dark flex-shrink-0 me-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-journal-bookmark-fill" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M6 1h6v7a.5.5 0 0 1-.757.429L9 7.083 6.757 8.43A.5.5 0 0 1 6 8V1z"/>
              <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z"/>
              <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z"/>
            </svg>
          </div>
          <div>
            <h2>History</h2>
            <p>Keep track of your transaction, make sure you did not forget anything you've done here.</p>
            <a href="/history" class="btn btn-md btn-secondary fw-bold border-white bg-dark btn-block w-25">
              History
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="acrylic my-3 p-3 bg-body rounded shadow">
      <table id="data" class="table table-responsive display">
        <thead>
          <tr>
              <th scope="col">Symbol</th>
              <th scope="col">Name</th>
              <th scope="col">Shares</th>
              <th scope="col">Price</th>
              <th scope="col">Total</th>
          </tr>
        </thead>
          <tbody>
              {% for stock in user_stocks %}
              <tr>
                  <td>
                      {{ stock.symbol }}
                  </td>
                  <td>
                      {{ stock.name }}
                  </td>
                  <td>
                      {{ stock.shares }}
                  </td>
                  <td>
                      {{ stock.price | usd }}
                  </td>
                  <td>
                      {{ stock.total | usd }}
                  </td>
              </tr>
              {% endfor %}
              <tr>
                  <td colspan="4">
                      CASH
                  </td>
                  <td>
                      {{ user_cash.cash | usd }}
                  </td>
              </tr>
              <tfoot>
                  <td colspan="4"></td>
                  <td><strong>{{ total_portfolio | usd }}</strong></td>
              </tfoot>
          </tbody>
      </table>
  </div>
{% endblock %}

{% block script %}
{% endblock %}